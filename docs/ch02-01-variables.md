# 変数

Python における変数と使用できる基本データ型について説明します。Python の変数は値を代入した時点で型が確定します。例えば

```python
x = 10
```

とすると変数 `x` は整数型 `int` になりますし、

```python
x = 'Hello, World!'
```

とすると文字列型 `str` になります。また、値を代入するたびに変数の型は動的に変化します。

```python
x = 10
x = 'Hello, World!'
```

とすると最初は整数型でその後、文字列型に変化します。

## 整数

整数値を代入した変数は整数型 `int` になります。

```python
x = 10
```

多くのプログラム言語では表現できる最大の整数が定義されていて、加算などによってその最大値を超えるとオーバーフローというエラーが発生しますが、Python はいくらでも大きな整数を扱うことができます（すなわちオーバーフローしません）。

## 浮動小数点

浮動小数点（3.14 など）を代入した変数は浮動小数点型 `float` になります。

```python
x = 3.14
```

## 数値演算

数値に対しては四則演算ができます。

```python
# 加算
total = 5 + 10

# 減算
difference = 95.5 - 4.3

# 乗算
product = 4 * 30

# 除算
division = 56.7 / 32.2

# 商
quotient = 62 // 12

# 剰余
remainder = 43 % 5
```

!!! warning "整数 / 整数 の結果"
    整数に対する `/` は Python 2 系と 3 系では意味が変わります。2 系では商でしたが 3 系では除算になります。例えば `5 / 2` は 2 系では `2` になり 3 系では `2.5` になります。

## 真偽値

真偽値を扱う型は `bool` になります。

```python
x = True
y = False
```

## 文字列

文字列を代入した変数は文字列型 `str` になります。

```python
x = 'Hello, World!'
y = '日本語'
```

文字列の先頭に `f` を付けると文字列内に変数や式の埋め込みができるようになります（f-string）。

```python
x = 10
s1 = f'The value of x is {x}'    # 'The value of x is 10'
s2 = f'The value of x * x is {x * x}'    # 'The value of x * x is 100'
```

この表記は下記と等価になっています。

```python
s1 = 'The value of x is {}'.format(x)
s2 = 'The value of x * x is {}'.format(x * x)
```

`str` 型の変数は `.format()` という関数を持っており、これを使うことで `{}` の箇所に `format()` に渡した変数や式を埋め込むことができます。f-string はその [糖衣構文] です。

[糖衣構文]: https://ja.wikipedia.org/wiki/%E7%B3%96%E8%A1%A3%E6%A7%8B%E6%96%87

## バイト

バイト列を扱うにはバイト型 `byte` を使います。

```python
x = b'0xDEADBEEF'
```

## リスト

リスト `list` は配列を扱うための型です。リストの各要素は必ずしも同じ型である必要はありません。

```python
x = [0, 1, 2, 3, 4]
y = [10, 3.14, 'Hello, World!']
```

要素の末尾に `,` が入っていても大丈夫です。

```python
[10, 3.14, 'Hello, World!',]
```

要素参照は次のようにします。

```python
x = [10, 3.14, 'Hello, World!']
x[0]    # 10
x[1]    # 3.14
x[2]    # 'Hello, World!'
```

要素が空のリストを作る場合は `x = []` とします。

## タプル

タプル `tuple` はリストと同じで複数要素を扱うための型です。リストとの違いはリストは要素数が可変長なのに対しタプルは固定長であることです。要素の末尾に `,` が入っていても大丈夫です。

```python
x = (0, 1, 2, 3, 4)
y = (10, 3.14, 'Hello, World!')
```

要素参照はリストと同じようにしてできます。`()` はただの飾りであり、必須ではありません。タプルになるかどうかは `,` が含まれているかどうかで決まります。

```python
x = 10, 3.14, 'Hello, World!'   # 3 要素のタプル
y = 20,                         # 1 要素のタプル
```

ただし空のタプルを作りたいときは `()` を使います。

```python
x = ()
```

## 辞書

辞書 `dict` はキーに対する値を管理するための型です。

```python
x = {'name': 'John Doe', 'age': 30}
```

`x['name']` と書くと `'John Doe'` という文字列が取得でき、`x['age']` とすると `30` が取得できます。キーも値も任意の型を使用することができます。要素が空の辞書を作る場合は `x = {}` とします。

## 集合

集合 `set` は重複を取り除いて複数の要素を扱うための型です。

```python
x = {0, 1, 2, 3, 4}
```

`set()` を使うとリストやタプルから集合を作ることができます。

```python
x = set([1, 1, 2, 3, 4, 4])                 # {1, 2, 3, 4}
y = set(('x', 'x', 3.14, [1, 2], [1, 2]))   # {'x', 3.14, [1, 2]}
```

空の集合を作る場合は `x = set()` とします。`x = {}` としても空の辞書となるので注意してください。

## `None`

変数に `None` というキーワードを代入すると、その変数はどの型にも属さない変数になります。

```python
x = None
```

変数は用意したいけど、どのような値を入れるかは後で決めたいといったケースでは `None` が使用されます。

## アンパック代入

リストやタプルの要素を複数の変数に同時に代入する構文を **アンパック代入** といいます。

```python
x = (10, 3.14, 'Hello, World!')
a, b, c = x     # a: 10, b: 3.14, c: 'Hello, World!'
```

アンパック代入の代入先の変数と代入元の要素の数が一致しない場合はエラーとなります。

```python
x = [0, 1, 2, 3, 4]
a, b, c = x     # エラー
```

しかし代入先の変数に `*` を付けておくと、その変数はリスト型になるため数が一致しなくてもアンパック代入ができるようになります。

```python
x = [0, 1, 2, 3, 4]
a, b, *c = x     # a: 0, b: 1, c: [2, 3, 4]
```

## 定数

Python には定数の概念がありません。しかし、定数として使用することを強調するため、書き換えを許容しない変数は大文字で記述するという習慣があります。

```python
PI = 3.14
```
